golem::run_dev()
golem::run_dev()
golem::run_dev()
golem::run_dev()
golem::run_dev()
golem::run_dev()
golem::run_dev()
rlnorm(1, meanlog=1, sdlog=0.7)
rlnorm(1, meanlog=1, sdlog=0.7)
rlnorm(100, meanlog=1, sdlog=0.7)
rlnorm(100, meanlog=1, sdlog=0.7)
rlnorm(100, meanlog=1, sdlog=0.7)
rlnorm(100, meanlog=5, sdlog=0.7)
(10^rweibull(1, shape=InfsalivaChenshape, scale=InfsalivaChenscale))
(10^rweibull(1, shape=3.47, scale=7.01))
(10^rweibull(1000, shape=3.47, scale=7.01))
(rweibull(1000, shape=3.47, scale=7.01))
hist((rweibull(1000, shape=3.47, scale=7.01)))
hist((rweibull(1000, shape=3.47, scale=7.01)))
(10^rweibull(1000, shape=3.47, scale=7.01))
hist((10^rweibull(1000, shape=3.47, scale=7.01)))
rlnorm(100, meanlog=5, sdlog=0.7)
rlnorm(100, meanlog=7, sdlog=0.7)
hist(rlnorm(10000, meanlog=7, sdlog=0.7))
hist(rlnorm(10000, meanlog=7, sdlog=0.8))
hist(rlnorm(10000, meanlog=7, sdlog=0.3))
hist(rlnorm(10000, meanlog=7, sdlog=0.4))
hist(rlnorm(10000, meanlog=7, sdlog=0.5))
hist(rlnorm(10000, meanlog=7, sdlog=0.9))
hist(rlnorm(10000, meanlog=6, sdlog=0.9))
hist(rlnorm(10000, meanlog=5, sdlog=0.9))
median(rlnorm(10000, meanlog=5, sdlog=0.9))
median(rlnorm(10000, meanlog=6, sdlog=0.9))
median(rlnorm(10000, meanlog=7, sdlog=0.9))
median(rlnorm(10000, meanlog=1, sdlog=0.9))
median(rlnorm(10000, meanlog=2, sdlog=0.9))
median(rlnorm(10000, meanlog=3, sdlog=0.9))
median(rlnorm(10000, meanlog=4, sdlog=0.9))
median(rlnorm(10000, meanlog=5, sdlog=0.9))
median(rlnorm(10000, meanlog=6, sdlog=0.9))
median(rlnorm(10000, meanlog=7, sdlog=0.9))
median(rlnorm(10000, meanlog=8, sdlog=0.9))
median(rlnorm(10000, meanlog=7, sdlog=0.9))
median(rlnorm(10000, meanlog=8, sdlog=0.9))
median(rlnorm(10000, meanlog=9, sdlog=0.9))
output<-read.csv("data/output/Office/Office_meetings_sensitivity.csv")
library(ggplot2)
library(tidyr)
library(dplyr)
output %>%
group_by(ID) %>%
select(ID, rFACE, rLUNGNF, rLUNGFF, rSPRAY) %>%
mutate_at(., c("rFACE", "rLUNGNF", "rLUNGFF", "rSPRAY"), ~as.numeric(.))%>%
pivot_longer(!ID, names_to="cat", values_to="value") %>%
mutate(value=log(value))%>%
#filter(cat=="rSPRAY"| cat=="rLUNGNF") %>%
#filter(ID%in%c("1cough_0.05",
#               "3cough_0.05",
#               "5cough_0.05"))%>%
ggplot(., aes(x=cat, y=value, colour=ID)) +
geom_boxplot()+
xlab("Route")+
ylab("Log Infection")+ scale_x_discrete(labels=c("rFACE" = "Contact", "rLUNGNF" = "Inhalation Near Field",
"rLUNGFF" = "Inhalation Far Field",
"rSPRAY" = "Cough Spray")) +
theme(axis.text.x=element_text(angle=45, hjust=1),
axis.text=element_text(size=12))
unique(output$ID)
output %>%
group_by(ID) %>%
select(ID, rFACE, rLUNGNF, rLUNGFF, rSPRAY) %>%
mutate_at(., c("rFACE", "rLUNGNF", "rLUNGFF", "rSPRAY"), ~as.numeric(.))%>%
pivot_longer(!ID, names_to="cat", values_to="value") %>%
mutate(value=log(value))%>%
#filter(cat=="rSPRAY"| cat=="rLUNGNF") %>%
filter(ID%in%c("Meetingroom1",
"Meetingroom1_predetect",
"Meetingroom1_postpeak"))%>%
ggplot(., aes(x=cat, y=value, colour=ID)) +
geom_boxplot()+
xlab("Route")+
ylab("Log Infection")+ scale_x_discrete(labels=c("rFACE" = "Contact", "rLUNGNF" = "Inhalation Near Field",
"rLUNGFF" = "Inhalation Far Field",
"rSPRAY" = "Cough Spray")) +
theme(axis.text.x=element_text(angle=45, hjust=1),
axis.text=element_text(size=12))
output %>%
group_by(ID) %>%
select(ID, rFACE, rLUNGNF, rLUNGFF, rSPRAY) %>%
mutate_at(., c("rFACE", "rLUNGNF", "rLUNGFF", "rSPRAY"), ~as.numeric(.))%>%
pivot_longer(!ID, names_to="cat", values_to="value") %>%
mutate(value=log(value))
t<-output %>%
group_by(ID) %>%
select(ID, rFACE, rLUNGNF, rLUNGFF, rSPRAY) %>%
mutate_at(., c("rFACE", "rLUNGNF", "rLUNGFF", "rSPRAY"), ~as.numeric(.))%>%
pivot_longer(!ID, names_to="cat", values_to="value") %>%
mutate(value=log(value))
View(t)
t %>% group_by(ID) %>% summarise(m=mean(value))
t %>% group_by(ID) %>% summarise(m=mean(value), na.rm=T)
t %>% group_by(ID) %>% summarise(m=mean(value, na.rm=T))
output %>%
group_by(ID) %>%
select(ID, rFACE, rLUNGNF, rLUNGFF, rSPRAY) %>%
mutate_at(., c("rFACE", "rLUNGNF", "rLUNGFF", "rSPRAY"), ~as.numeric(.))%>%
pivot_longer(!ID, names_to="cat", values_to="value") %>%
#mutate(value=log(value))%>%
#filter(cat=="rSPRAY"| cat=="rLUNGNF") %>%
filter(ID%in%c("Meetingroom1",
"Meetingroom1_predetect",
"Meetingroom1_postpeak"))%>%
ggplot(., aes(x=cat, y=value, colour=ID)) +
geom_boxplot()+
xlab("Route")+
ylab("Log Infection")+ scale_x_discrete(labels=c("rFACE" = "Contact", "rLUNGNF" = "Inhalation Near Field",
"rLUNGFF" = "Inhalation Far Field",
"rSPRAY" = "Cough Spray")) +
theme(axis.text.x=element_text(angle=45, hjust=1),
axis.text=element_text(size=12))
output %>%
group_by(ID) %>%
select(ID, rFACE, rLUNGNF, rLUNGFF, rSPRAY) %>%
mutate_at(., c("rFACE", "rLUNGNF", "rLUNGFF", "rSPRAY"), ~as.numeric(.))%>%
pivot_longer(!ID, names_to="cat", values_to="value") %>%
mutate(value=log(value))%>%
#filter(cat=="rSPRAY"| cat=="rLUNGNF") %>%
filter(ID%in%c("Meetingroom1",
"Meetingroom1_predetect",
"Meetingroom1_postpeak"))%>%
ggplot(., aes(x=cat, y=value, colour=ID)) +
geom_boxplot()+
xlab("Route")+
ylab("Log Infection")+ scale_x_discrete(labels=c("rFACE" = "Contact", "rLUNGNF" = "Inhalation Near Field",
"rLUNGFF" = "Inhalation Far Field",
"rSPRAY" = "Cough Spray")) +
theme(axis.text.x=element_text(angle=45, hjust=1),
axis.text=element_text(size=12))
t %>% group_by(ID) %>% filter() %>% summarise(m=mean(value, na.rm=T))
t %>% group_by(ID) %>% filter(value>0) %>% summarise(m=mean(value, na.rm=T))
t %>% group_by(ID) %>% filter(value>-0.0000000000000000001) %>% summarise(m=mean(value, na.rm=T))
t %>% group_by(ID) %>% filter(value>-0.0000000000000000001) %>% summarise(m=median(value, na.rm=T))
View(t)
t %>% group_by(ID) %>% filter(value>-0.10000) %>% summarise(m=median(value, na.rm=T))
output<-CEMRA::run_model("Office/Office_meetings_PFURNAratio", 50)
#output<-CEMRA::run_model("Office/Office_meetings_sensitivity", 500)
#output<-CEMRA::run_model("Office/Office_meetings_mitigations", 500)
#output<-CEMRA::run_model("Office/Office_meetings_cough", 500)
#output<-CEMRA::run_model("Office/Office_meetings", 50)
#output<-CEMRA::run_model("Hospital/Hospital_singlepatient_moderate_peak", 50)
#output<-CEMRA::run_model("Office_comp_meeting", 50)
library(dplyr)
#"Office_MR_moderatepeak2"
output<-read.csv("data/output/Office/Office_meetings_sensitivity.csv")
########################################
library(ggplot2)
library(tidyr)
library(dplyr)
output %>%
group_by(ID) %>%
select(ID, rFACE, rLUNGNF, rLUNGFF, rSPRAY) %>%
mutate_at(., c("rFACE", "rLUNGNF", "rLUNGFF", "rSPRAY"), ~as.numeric(.))%>%
pivot_longer(!ID, names_to="cat", values_to="value") %>%
mutate(value=log(value))%>%
#filter(cat=="rSPRAY"| cat=="rLUNGNF") %>%
#filter(ID%in%c("Meetingroom1",
#               "Meetingroom1_predetect",
#               "Meetingroom1_postpeak"))%>%
ggplot(., aes(x=cat, y=value, colour=ID)) +
geom_boxplot()+
xlab("Route")+
ylab("Log Infection")+ scale_x_discrete(labels=c("rFACE" = "Contact", "rLUNGNF" = "Inhalation Near Field",
"rLUNGFF" = "Inhalation Far Field",
"rSPRAY" = "Cough Spray")) +
theme(axis.text.x=element_text(angle=45, hjust=1),
axis.text=element_text(size=12))
output<-CEMRA::run_model("Office/Office_meetings_PFURNAratio", 50)
golem::run_dev()#
output<-CEMRA::run_model("Office/Office_meetings_PFURNAratio", 50)
output<-CEMRA::run_model("Office/Office_meetings_sensitivityposthoc", 50)
#output<-CEMRA::run_model("Office/Office_meetings", 50)
#output<-CEMRA::run_model("Hospital/Hospital_singlepatient_moderate_peak", 50)
#output<-CEMRA::run_model("Office_comp_meeting", 50)
library(dplyr)
#"Office_MR_moderatepeak2"
output<-read.csv("data/output/Office/Office_meetings_sensitivity.csv")
########################################
library(ggplot2)
library(tidyr)
library(dplyr)
output %>%
group_by(ID) %>%
select(ID, rFACE, rLUNGNF, rLUNGFF, rSPRAY) %>%
mutate_at(., c("rFACE", "rLUNGNF", "rLUNGFF", "rSPRAY"), ~as.numeric(.))%>%
pivot_longer(!ID, names_to="cat", values_to="value") %>%
mutate(value=log(value))%>%
#filter(cat=="rSPRAY"| cat=="rLUNGNF") %>%
#filter(ID%in%c("Meetingroom1",
#               "Meetingroom1_predetect",
#               "Meetingroom1_postpeak"))%>%
ggplot(., aes(x=cat, y=value, colour=ID)) +
geom_boxplot()+
xlab("Route")+
ylab("Log Infection")+ scale_x_discrete(labels=c("rFACE" = "Contact", "rLUNGNF" = "Inhalation Near Field",
"rLUNGFF" = "Inhalation Far Field",
"rSPRAY" = "Cough Spray")) +
theme(axis.text.x=element_text(angle=45, hjust=1),
axis.text=element_text(size=12))
library(ggplot2)
library(tidyr)
library(dplyr)
output %>%
group_by(ID) %>%
select(ID, rFACE, rLUNGNF, rLUNGFF, rSPRAY) %>%
mutate_at(., c("rFACE", "rLUNGNF", "rLUNGFF", "rSPRAY"), ~as.numeric(.))%>%
pivot_longer(!ID, names_to="cat", values_to="value") %>%
mutate(value=log(value))%>%
#filter(cat=="rSPRAY"| cat=="rLUNGNF") %>%
#filter(ID%in%c("Meetingroom1",
#               "Meetingroom1_predetect",
#               "Meetingroom1_postpeak"))%>%
ggplot(., aes(x=cat, y=value, colour=ID)) +
geom_boxplot()+
xlab("Route")+
ylab("Log Infection")+ scale_x_discrete(labels=c("rFACE" = "Contact", "rLUNGNF" = "Inhalation Near Field",
"rLUNGFF" = "Inhalation Far Field",
"rSPRAY" = "Cough Spray")) +
theme(axis.text.x=element_text(angle=45, hjust=1),
axis.text=element_text(size=12))
output<-CEMRA::run_model("Office/Office_meetings_sensitivityposthoc", 50)
library(dplyr)
#"Office_MR_moderatepeak2"
#output<-read.csv("data/output/Office/Office_meetings_sensitivity.csv")
########################################
library(ggplot2)
library(tidyr)
library(dplyr)
output %>%
group_by(ID) %>%
select(ID, rFACE, rLUNGNF, rLUNGFF, rSPRAY) %>%
mutate_at(., c("rFACE", "rLUNGNF", "rLUNGFF", "rSPRAY"), ~as.numeric(.))%>%
pivot_longer(!ID, names_to="cat", values_to="value") %>%
mutate(value=log(value))%>%
#filter(cat=="rSPRAY"| cat=="rLUNGNF") %>%
#filter(ID%in%c("Meetingroom1",
#               "Meetingroom1_predetect",
#               "Meetingroom1_postpeak"))%>%
ggplot(., aes(x=cat, y=value, colour=ID)) +
geom_boxplot()+
xlab("Route")+
ylab("Log Infection")+ scale_x_discrete(labels=c("rFACE" = "Contact", "rLUNGNF" = "Inhalation Near Field",
"rLUNGFF" = "Inhalation Far Field",
"rSPRAY" = "Cough Spray")) +
theme(axis.text.x=element_text(angle=45, hjust=1),
axis.text=element_text(size=12))
output<-CEMRA::run_model("Office/Office_meetings_sensitivityposthoc", 50)
#output<-CEMRA::run_model("Office/Office_meetings_sensitivity", 500)
#output<-CEMRA::run_model("Office/Office_meetings_mitigations", 500)
#output<-CEMRA::run_model("Office/Office_meetings_cough", 500)
#output<-CEMRA::run_model("Office/Office_meetings", 50)
#output<-CEMRA::run_model("Hospital/Hospital_singlepatient_moderate_peak", 50)
#output<-CEMRA::run_model("Office_comp_meeting", 50)
library(dplyr)
#"Office_MR_moderatepeak2"
#output<-read.csv("data/output/Office/Office_meetings_sensitivity.csv")
########################################
library(ggplot2)
library(tidyr)
library(dplyr)
output %>%
group_by(ID) %>%
select(ID, rFACE, rLUNGNF, rLUNGFF, rSPRAY) %>%
mutate_at(., c("rFACE", "rLUNGNF", "rLUNGFF", "rSPRAY"), ~as.numeric(.))%>%
pivot_longer(!ID, names_to="cat", values_to="value") %>%
mutate(value=log(value))%>%
#filter(cat=="rSPRAY"| cat=="rLUNGNF") %>%
#filter(ID%in%c("Meetingroom1",
#               "Meetingroom1_predetect",
#               "Meetingroom1_postpeak"))%>%
ggplot(., aes(x=cat, y=value, colour=ID)) +
geom_boxplot()+
xlab("Route")+
ylab("Log Infection")+ scale_x_discrete(labels=c("rFACE" = "Contact", "rLUNGNF" = "Inhalation Near Field",
"rLUNGFF" = "Inhalation Far Field",
"rSPRAY" = "Cough Spray")) +
theme(axis.text.x=element_text(angle=45, hjust=1),
axis.text=element_text(size=12))
output<-CEMRA::run_model("Office/Office_meetings_sensitivityposthoc", 500)
#output<-CEMRA::run_model("Office/Office_meetings_sensitivity", 500)
#output<-CEMRA::run_model("Office/Office_meetings_mitigations", 500)
#output<-CEMRA::run_model("Office/Office_meetings_cough", 500)
#output<-CEMRA::run_model("Office/Office_meetings", 50)
#output<-CEMRA::run_model("Hospital/Hospital_singlepatient_moderate_peak", 50)
#output<-CEMRA::run_model("Office_comp_meeting", 50)
library(dplyr)
#"Office_MR_moderatepeak2"
#output<-read.csv("data/output/Office/Office_meetings_sensitivity.csv")
########################################
library(ggplot2)
library(tidyr)
library(dplyr)
output %>%
group_by(ID) %>%
select(ID, rFACE, rLUNGNF, rLUNGFF, rSPRAY) %>%
mutate_at(., c("rFACE", "rLUNGNF", "rLUNGFF", "rSPRAY"), ~as.numeric(.))%>%
pivot_longer(!ID, names_to="cat", values_to="value") %>%
mutate(value=log(value))%>%
#filter(cat=="rSPRAY"| cat=="rLUNGNF") %>%
#filter(ID%in%c("Meetingroom1",
#               "Meetingroom1_predetect",
#               "Meetingroom1_postpeak"))%>%
ggplot(., aes(x=cat, y=value, colour=ID)) +
geom_boxplot()+
xlab("Route")+
ylab("Log Infection")+ scale_x_discrete(labels=c("rFACE" = "Contact", "rLUNGNF" = "Inhalation Near Field",
"rLUNGFF" = "Inhalation Far Field",
"rSPRAY" = "Cough Spray")) +
theme(axis.text.x=element_text(angle=45, hjust=1),
axis.text=element_text(size=12))
hist(rweibull(10000, shape=3.47, scale=7.01)))
hist(rweibull(10000, shape=3.47, scale=7.01))
?hist
hist(rweibull(10000, shape=3.47, scale=7.01), xlab="")
hist(rweibull(10000, shape=3.47, scale=7.01), xlab="log10 RNA/ml")
rlnorm(10000, meanlog=7, sdlog=0.7)
hist(rlnorm(10000, meanlog=7, sdlog=0.7),xlab="RNA/minute")
hist(rlnorm(10000, meanlog=7, sdlog=0.7),xlab="RNA/minute")
rlnorm(10000, meanlog=7, sdlog=0.7)
golem::run_dev()
output<-read.csv("data/output/Office/Office_meetings_emm.csv")
library(dplyr)
#"Office_MR_moderatepeak2"
#output<-read.csv("data/output/Office/Office_meetings_sensitivity.csv")
########################################
library(ggplot2)
library(tidyr)
library(dplyr)
output %>%
group_by(ID) %>%
select(ID, rFACE, rLUNGNF, rLUNGFF, rSPRAY) %>%
mutate_at(., c("rFACE", "rLUNGNF", "rLUNGFF", "rSPRAY"), ~as.numeric(.))%>%
pivot_longer(!ID, names_to="cat", values_to="value") %>%
mutate(value=log(value))%>%
#filter(cat=="rSPRAY"| cat=="rLUNGNF") %>%
#filter(ID%in%c("Meetingroom1",
#               "Meetingroom1_predetect",
#               "Meetingroom1_postpeak"))%>%
ggplot(., aes(x=cat, y=value, colour=ID)) +
geom_boxplot()+
xlab("Route")+
ylab("Log Infection")+ scale_x_discrete(labels=c("rFACE" = "Contact", "rLUNGNF" = "Inhalation Near Field",
"rLUNGFF" = "Inhalation Far Field",
"rSPRAY" = "Cough Spray")) +
theme(axis.text.x=element_text(angle=45, hjust=1),
axis.text=element_text(size=12))
output<-read.csv("data/output/Office/Office_meetings_emm.csv")
unique(output$ID)
output %>%
group_by(ID) %>%
select(ID, rFACE, rLUNGNF, rLUNGFF, rSPRAY) %>%
mutate_at(., c("rFACE", "rLUNGNF", "rLUNGFF", "rSPRAY"), ~as.numeric(.))%>%
pivot_longer(!ID, names_to="cat", values_to="value") %>%
mutate(value=log(value))%>%
#filter(cat=="rSPRAY"| cat=="rLUNGNF") %>%
filter(ID%in%c("Highemm_peak",
"Lowemm_peak"))%>%
ggplot(., aes(x=cat, y=value, colour=ID)) +
geom_boxplot()+
xlab("Route")+
ylab("Log Infection")+ scale_x_discrete(labels=c("rFACE" = "Contact", "rLUNGNF" = "Inhalation Near Field",
"rLUNGFF" = "Inhalation Far Field",
"rSPRAY" = "Cough Spray")) +
theme(axis.text.x=element_text(angle=45, hjust=1),
axis.text=element_text(size=12))
output<-read.csv("data/output/Office/Office_meetings_sensitivity.csv")
unique(output$ID)
output<-read.csv("data/output/Office/Office_meetings_sensitivity.csv")
########################################
library(ggplot2)
library(tidyr)
library(dplyr)
output %>%
group_by(ID) %>%
select(ID, rFACE, rLUNGNF, rLUNGFF, rSPRAY) %>%
mutate_at(., c("rFACE", "rLUNGNF", "rLUNGFF", "rSPRAY"), ~as.numeric(.))%>%
pivot_longer(!ID, names_to="cat", values_to="value") %>%
mutate(value=log(value))%>%
#filter(cat=="rSPRAY"| cat=="rLUNGNF") %>%
filter(ID%in%c("Meetingroom1",
"Meetingroom1_loudenroberts"))%>%
ggplot(., aes(x=cat, y=value, colour=ID)) +
geom_boxplot()+
xlab("Route")+
ylab("Log Infection")+ scale_x_discrete(labels=c("rFACE" = "Contact", "rLUNGNF" = "Inhalation Near Field",
"rLUNGFF" = "Inhalation Far Field",
"rSPRAY" = "Cough Spray")) +
theme(axis.text.x=element_text(angle=45, hjust=1),
axis.text=element_text(size=12))
output<-read.csv("data/output/Office/Office_meetings_sensitivity.csv")
########################################
library(ggplot2)
library(tidyr)
library(dplyr)
output %>%
group_by(ID) %>%
select(ID, rFACE, rLUNGNF, rLUNGFF, rSPRAY) %>%
mutate_at(., c("rFACE", "rLUNGNF", "rLUNGFF", "rSPRAY"), ~as.numeric(.))%>%
pivot_longer(!ID, names_to="cat", values_to="value") %>%
mutate(value=log(value))%>%
#filter(cat=="rSPRAY"| cat=="rLUNGNF") %>%
#filter(ID%in%c("Meetingroom1",
#               "Meetingroom1_loudenroberts"))%>%
ggplot(., aes(x=cat, y=value, colour=ID)) +
geom_boxplot()+
xlab("Route")+
ylab("Log Infection")+ scale_x_discrete(labels=c("rFACE" = "Contact", "rLUNGNF" = "Inhalation Near Field",
"rLUNGFF" = "Inhalation Far Field",
"rSPRAY" = "Cough Spray")) +
theme(axis.text.x=element_text(angle=45, hjust=1),
axis.text=element_text(size=12))
library(dplyr)
#"Office_MR_moderatepeak2"
output<-read.csv("data/output/Office/Office_meetings_mitigations.csv")
########################################
library(ggplot2)
library(tidyr)
library(dplyr)
output %>%
group_by(ID) %>%
select(ID, rFACE, rLUNGNF, rLUNGFF, rSPRAY) %>%
mutate_at(., c("rFACE", "rLUNGNF", "rLUNGFF", "rSPRAY"), ~as.numeric(.))%>%
pivot_longer(!ID, names_to="cat", values_to="value") %>%
mutate(value=log(value))%>%
#filter(cat=="rSPRAY"| cat=="rLUNGNF") %>%
#filter(ID%in%c("Meetingroom1",
#               "Meetingroom1_loudenroberts"))%>%
ggplot(., aes(x=cat, y=value, colour=ID)) +
geom_boxplot()+
xlab("Route")+
ylab("Log Infection")+ scale_x_discrete(labels=c("rFACE" = "Contact", "rLUNGNF" = "Inhalation Near Field",
"rLUNGFF" = "Inhalation Far Field",
"rSPRAY" = "Cough Spray")) +
theme(axis.text.x=element_text(angle=45, hjust=1),
axis.text=element_text(size=12))
library(ggplot2)
library(tidyr)
library(dplyr)
output %>%
group_by(ID) %>%
select(ID, rFACE, rLUNGNF, rLUNGFF, rSPRAY) %>%
mutate_at(., c("rFACE", "rLUNGNF", "rLUNGFF", "rSPRAY"), ~as.numeric(.))%>%
pivot_longer(!ID, names_to="cat", values_to="value") %>%
mutate(value=log(value))%>%
#filter(cat=="rSPRAY"| cat=="rLUNGNF"| cat=="rLUNGFF") %>%
filter(ID%in%c("Meetingroom1",
"Meetingroom1_surgicalmask",
"Meetingroom1_surfacedisandhygiene",
"Meetingroom1_irl"))%>%
ggplot(., aes(x=cat, y=value, colour=ID)) +
geom_boxplot()+
xlab("Route")+
ylab("Log Infection")+ scale_x_discrete(labels=c("rFACE" = "Contact", "rLUNGNF" = "Inhalation Near Field",
"rLUNGFF" = "Inhalation Far Field",
"rSPRAY" = "Cough Spray")) +
theme(axis.text.x=element_text(angle=45, hjust=1),
axis.text=element_text(size=12))
unique(output$ID)
library(ggplot2)
library(tidyr)
library(dplyr)
output %>%
group_by(ID) %>%
select(ID, rFACE, rLUNGNF, rLUNGFF, rSPRAY) %>%
mutate_at(., c("rFACE", "rLUNGNF", "rLUNGFF", "rSPRAY"), ~as.numeric(.))%>%
pivot_longer(!ID, names_to="cat", values_to="value") %>%
mutate(value=log(value))%>%
#filter(cat=="rSPRAY"| cat=="rLUNGNF"| cat=="rLUNGFF") %>%
filter(ID%in%c("Meetingroom1",
"Meetingroom1_surgicalmask",
"Meetingroom1_surgicalmask",
"Meetingroom1_surfacedisandhygiene",
"Meetingroom1_FFP3"))%>%
ggplot(., aes(x=cat, y=value, colour=ID)) +
geom_boxplot()+
xlab("Route")+
ylab("Log Infection")+ scale_x_discrete(labels=c("rFACE" = "Contact", "rLUNGNF" = "Inhalation Near Field",
"rLUNGFF" = "Inhalation Far Field",
"rSPRAY" = "Cough Spray")) +
theme(axis.text.x=element_text(angle=45, hjust=1),
axis.text=element_text(size=12))
library(ggplot2)
library(tidyr)
library(dplyr)
output %>%
group_by(ID) %>%
select(ID, rFACE, rLUNGNF, rLUNGFF, rSPRAY) %>%
mutate_at(., c("rFACE", "rLUNGNF", "rLUNGFF", "rSPRAY"), ~as.numeric(.))%>%
pivot_longer(!ID, names_to="cat", values_to="value") %>%
mutate(value=log(value))%>%
#filter(cat=="rSPRAY"| cat=="rLUNGNF"| cat=="rLUNGFF") %>%
filter(ID%in%c("Meetingroom1",
"Meetingroom1_surgicalmask",
"Meetingroom1_surfacedisandhygiene",
"Meetingroom1_irl"))%>%
ggplot(., aes(x=cat, y=value, colour=ID)) +
geom_boxplot()+
xlab("Route")+
ylab("Log Infection")+ scale_x_discrete(labels=c("rFACE" = "Contact", "rLUNGNF" = "Inhalation Near Field",
"rLUNGFF" = "Inhalation Far Field",
"rSPRAY" = "Cough Spray")) +
theme(axis.text.x=element_text(angle=45, hjust=1),
axis.text=element_text(size=12))
